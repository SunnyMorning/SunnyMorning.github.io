---
title: 4.6 Ethernet
date: 2018-04-10 15:47:47
tags: [AM335X, Ethernet]
categories: 
- 中文版
-	TI
-	AM335X
- MYD-AM335X-Linux-4.1.18开发手册
comments: true
---
&emsp;&emsp;本例程演示使用Linux API让开发板上的网口发送和接收数据，详情请参考源码。

**测试硬件环境：**

&emsp;&emsp;硬件调试环境搭建见[部署开发环境](/zh-CN/myd-am335x/DevelopmentGuide/chapter2/chapter2)中的硬件调试环境搭建部分。


  | 板型 | MYD-AM335X | MYD-AM335X-Y | MYD-AM335X-J |
  | ----| ---- | ---- | ---- |
  | 网口接口 | 网线连接J5 | 网线连接J5 | 网线连接J5|


**测试软件环境：**
  * Linux Kernel 4.1.18
  * server应用程序
  * client应用程序

**测试过程：**
&emsp;&emsp;编译并拷贝`<WORKDIR>/Examples/network`目录下的测试程序client至开发板/usr/bin目录，server拷贝至虚拟机。假设虚拟机的ip是192.168.30.114。

&emsp;&emsp;配置开发板的ip：
```
ifconfig eth0 192.168.30.122 up
```
&emsp;&emsp;配置好网络后，将开发板上eth0用网线连到PC，以虚拟机为服务器端，开发板为客户端，先在虚拟机上执行以下命令：

```c
$./server 192.168.30.122
```

&emsp;&emsp;再在开发板执行以下命令可看到所发送的信息：

```c
# ./client 192.168.30.114
send messages: 1234567890 to 192.168.30.114
send messages: 1234567890 to 192.168.30.114
send messages: 1234567890 to 192.168.30.114
send messages: 1234567890 to 192.168.30.114
send messages: 1234567890 to 192.168.30.114
send messages: 1234567890 to 192.168.30.114
```

&emsp;&emsp;同时可以看到虚拟机接收到开发板发送的数据：

```c
$ ./server 192.168.30.122
received messages: 1234567890@ from 192.168.30.122
received messages: 1234567890@ from 192.168.30.122
received messages: 1234567890@ from 192.168.30.122
received messages: 1234567890@ from 192.168.30.122
received messages: 1234567890@ from 192.168.30.122
received messages: 1234567890@ from 192.168.30.122
```


